<!doctype html> 
<html lang="en"> 
  
<head>
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <title>Overview of Events</title> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>

<body>
  <div class="page-header">
    <h1>Overview of Events</h1>
  </div>
  <div class="container">
    <input class="form-control" id="myInput" type="text" placeholder="Search..">
    <table class="table table-bordered table-striped">
    <head><tr><th>Event</th><th>People</th><th>Songs</th></tr></head>
    {% for summary in summaries %}
      <body id="myTable">
        <tr>
          <td>
            <dl>
              <dt>Event</dt>
              <dd>- <a href="{{ url_for('detail_event_occ', event_occ_id=summary['event']['event_occ_id']) }}">
                {{ summary['event']['event_occ'] }}</a>
              </dd>
              <dt>Venue</dt>
              <dd>- <a href="{{ url_for('detail_venue', venue_id=summary['venue']['venue_id']) }}">
                  {{ summary['venue']['venue_name'] }}</a>
              </dd>
              <dt>Date</dt>
              <dd>- {{summary['event']['event_occ_date']}}</dd>
            </dl>
          </td>
          <td>
            <ul>
              {% for person in summary['players'] %}
              <li>
                <a href="{{ url_for('detail_person', person_id=person['person_id']) }}">
                  {{person['public_name']}}
                </a>
              </li>
              {% endfor %}
            </ul>
          </td>
          <td>
            <ul>
              {% for song in summary['songs'] %}                
              <li>
                <a href="{{ url_for('detail_performed_song', song_perform_id=song['song_perform_id']) }}">
                  {{ song["song"] }}
               </a>
              </li>
              {% endfor %}
            </ul>
          </td>
        </tr>
      </body>
    {% endfor %}
    </table>
  </div>
<script>

$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
    
</body>
</html>